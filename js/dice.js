/**
 * grrd's Dice
 * Copyright (c) 2015 Gerard Tyedmers, grrd@gmx.net
 * @license MPL-2.0
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
!function(){"use strict";var e,t,l,n,a,s,o,i,r,_,b,d,u=0,c=[{lb_desc:"grrd’s Dice is a 3D Dice Roller app and a Yahtzee game for one to five players.",lb_swipe:"Swipe or shake to roll the dice!",lb_lock:"Tap to lock a dice!",lb_web_gl:"Your browser does not support WebGL!",lb_help:"Tap on an icon to get help!",lb_color:"Color:",lb_instr:"Display instructions:",lb_anz:"Number of dice:",lb_anz_pl:"Number of players:",bt_dice:"Dice!",bt_yahtzee:"Yahtzee!",bt_start:"Start",bt_back:" Back",bt_close:" Close",lb_dev:" Developed by Gérard Tyedmers with",lb_and:" and",lb_or:" or",lb_model:" 3D-Model created with",lb_puzzle:" Don't miss ",lb_yes:" Yes",lb_no:" No",lb_again:" Play again?",lb_game:" game played.",lb_games:" games played.",lb_player:" Player",lb_win:" wins!",lb_with:" with",lb_pts:" points",lb_name:" Your name:",lb_img:" Your image:",lb_played:" Games played:",lb_won:" Games won:",lb_sound:" Play sounds",lb_1:" Aces",lb_1_txt:" Sum of all aces",lb_2:" Twos",lb_2_txt:" Sum of all twos",lb_3:" Threes",lb_3_txt:" Sum of all threes",lb_4:" Fours",lb_4_txt:" Sum of all fours",lb_5:" Fives",lb_5_txt:" Sum of all fives",lb_6:" Sixes",lb_6_txt:" Sum of all sixes",lb_sum1:" Total",lb_sum1_txt:" Total upper section",lb_bonus:" Bonus 35 pts",lb_bonus_txt:" if total > 62",lb_sum2:" Total",lb_sum2_txt:" Total with bonus",lb_3kind:" 3 of a kind",lb_3kind_txt:" Sum of 3 identical dice",lb_4kind:" 4 of a kind",lb_4kind_txt:" Sum of 4 identical dice",lb_full_house:" Full House 25 pts",lb_full_house_txt:" 2 and 3 dice of a kind",lb_small_str:" Small Straight 30 pts",lb_small_str_txt:" Sequence of 4 dice",lb_big_str:" Large Straight 40 pts",lb_big_str_txt:" Sequence of 5 dice",lb_yahtzee:" Yahtzee 50 pts",lb_yahtzee_txt:" 5 of a kind",lb_chance:" Chance",lb_chance_txt:" Total of all 5 dice",lb_sum3:" Total",lb_sum3_txt:" Total lower section",lb_sum4:" Grand Total",lb_sum4_txt:" Upper + lower section"},{lb_desc:"grrd’s Dice ist eine 3D Würfel-App und ein Yahtzee (Kniffel, Yatzy) Spiel für 1 bis 5 Spieler.",lb_swipe:"Streiche oder schüttle zum Würfeln!",lb_lock:"Tippe, um einen Würfel zu sperren!",lb_web_gl:"Dein Browser unter- stützt WebGL nicht!",lb_help:"Tippe auf ein Icon für Hilfe!",lb_color:"Farbe:",lb_instr:"Anleitung einblenden:",lb_anz:"Anzahl Würfel:",lb_anz_pl:"Anzahl Spieler:",bt_dice:"Würfel!",bt_yahtzee:"Yahtzee!",bt_start:"Start",bt_back:" Zurück",bt_close:" Schliessen",lb_dev:" Entwickelt von Gérard Tyedmers mit",lb_and:" und",lb_or:" oder",lb_model:" 3D-Modell erstellt mit",lb_puzzle:" Probier auch",lb_yes:" Ja",lb_no:" Nein",lb_again:" Nochmals spielen?",lb_game:" Spiel gespielt.",lb_games:" Spiele gespielt.",lb_player:" Spieler",lb_win:" gewinnt!",lb_with:" mit",lb_pts:" Punkten",lb_name:" Dein Name:",lb_img:" Dein Bild",lb_played:" Spiele gespielt:",lb_won:" Spiele gewonnen:",lb_sound:" Töne abspielen",lb_1:" Einer",lb_1_txt:" Summe aller Einer",lb_2:" Zweier",lb_2_txt:" Summe aller Zweier",lb_3:" Dreier",lb_3_txt:" Summe aller Dreier",lb_4:" Vierer",lb_4_txt:" Summe aller Vierer",lb_5:" Fünfer",lb_5_txt:" Summe aller Fünfer",lb_6:" Sechser",lb_6_txt:" Summe aller Sechser",lb_sum1:" Summe",lb_sum1_txt:" Summe obere Hälfte",lb_bonus:" Bonus 35 Pt.",lb_bonus_txt:" wenn Summe > 62 Pt.",lb_sum2:" Summe",lb_sum2_txt:" Summe mit Bonus",lb_3kind:" Dreierpasch",lb_3kind_txt:" Drei gleiche Würfel",lb_4kind:" Viererpasch",lb_4kind_txt:" Vier gleiche Würfel",lb_full_house:" Full House 25 Pt.",lb_full_house_txt:" 2 und 3 gleiche Würfel",lb_small_str:" Kleine Strasse 30 Pt.",lb_small_str_txt:" Reihenfolge mit 4 Würfeln",lb_big_str:" Grosse Strasse 40 Pt",lb_big_str_txt:" Reihenfolge mit 5 Würfeln",lb_yahtzee:" Yahtzee 50 Pt.",lb_yahtzee_txt:" Fünf gleiche Würfel",lb_chance:" Chance",lb_chance_txt:" Summe aller 5 Würfel",lb_sum3:" Summe",lb_sum3_txt:" Summe untere Hälfte",lb_sum4:" Summe Total",lb_sum4_txt:" obere + untere Hälfte"},{lb_desc:"grrd’s Dice est une application 3D pour jouer aux dés et un jeu Yahtzee (Yatzee, Yatzy) pour 1 à 5 joueurs.",lb_swipe:"Glissez ou secouez pour lancer les dés!",lb_lock:"Tapez pour verrouiller un dé!",lb_web_gl:"Votre navigateur ne supporte pas WebGL.",lb_help:"Tapez sur une icône pour obtenir de l'aide!",lb_color:"Couleur:",lb_instr:"Afficher les instructions:",lb_anz:"Nombre de dés:",lb_anz_pl:"Nombre de joueurs:",bt_dice:"Dés!",bt_yahtzee:"Yahtzee!",bt_start:"Démarrer",bt_back:" Retour",bt_close:" Fermer",lb_dev:" Développé par Gérard Tyedmers avec",lb_and:" et",lb_or:" ou",lb_model:" Modèle 3D créé avec",lb_puzzle:" Ne manquez pas",lb_yes:" Oui",lb_no:" Non",lb_again:" Jouer à nouveau?",lb_game:" jeu joué.",lb_games:" jeux joués.",lb_player:" Joueur",lb_win:" gagne!",lb_with:" avec",lb_pts:" points",lb_name:" Votre nom:",lb_img:" Votre image:",lb_played:" Jeux joués:",lb_won:" Jeux gagnés:",lb_sound:" Jouer les sons",lb_1:" As",lb_1_txt:" Somme des 1 obtenus",lb_2:" Deux",lb_2_txt:" Somme des 2 obtenus",lb_3:" Trois",lb_3_txt:" Somme des 3 obtenus",lb_4:" Quatre",lb_4_txt:" Somme des 4 obtenus",lb_5:" Cinq",lb_5_txt:" Somme des 5 obtenus",lb_6:" Six",lb_6_txt:" Somme des 6 obtenus",lb_sum1:" Total",lb_sum1_txt:" Total 1ère section",lb_bonus:" Prime 35 pts",lb_bonus_txt:" Si total > 62",lb_sum2:" Total",lb_sum2_txt:" 1ère section + prime",lb_3kind:" Brelan",lb_3kind_txt:" 3 dés identiques",lb_4kind:" Carré",lb_4kind_txt:" 4 dés identiques",lb_full_house:" Full 25 pts",lb_full_house_txt:" 2 + 3 dés identiques",lb_small_str:" Petite suite 30 pts",lb_small_str_txt:" Suite de 4 dés",lb_big_str:" Grande suite 40 pts",lb_big_str_txt:" Suite  de 5 dés",lb_yahtzee:" Yahtzee 50 pts",lb_yahtzee_txt:" 5 dés identiques",lb_chance:" Chance",lb_chance_txt:" Somme des dés",lb_sum3:" Total",lb_sum3_txt:" Total 2ème section",lb_sum4:" Total global",lb_sum4_txt:" 1ère + 2ème section"},{lb_desc:"grrd's Dice is een 3D dobbelstenen app en een Yahtzee spel voor 1-5 spelers.",lb_swipe:"Veeg of schud om te dobbelen!",lb_lock:"Tik om de dobbelsteen te blokkeren!",lb_web_gl:"Uw browser ondersteunt geen WebGL!",lb_help:"Tik op een pictogram voor hulp!",lb_color:"Kleur:",lb_instr:"Instructies weergeven:",lb_anz:"Aantal dobbelstenen:",lb_anz_pl:"Aantal spelers:",bt_dice:"Dobbelstenen!",bt_yahtzee:"Yahtzee!",bt_start:"Begin",bt_back:" Terug",bt_close:" Sluiten",lb_dev:" Ontwikkeld door Gérard Tyedmers met",lb_and:" en",lb_or:" of",lb_model:" 3D-model gemaakt met",lb_puzzle:" Mis niet",lb_yes:" Ja",lb_no:" Nee",lb_again:" Speel opnieuw?",lb_game:" wedstrijd gespeeld.",lb_games:" wedstrijden gespeeld.",lb_player:" Speler",lb_win:" wint!",lb_with:" met",lb_pts:" punten",lb_name:" Jouw naam:",lb_img:" Uw afbeelding:",lb_played:" Gespeelde spellen:",lb_won:" Spellen gewonnen:",lb_sound:" Speel geluiden",lb_1:" Enen",lb_1_txt:" Som van alle enen",lb_2:" Tweeën",lb_2_txt:" Som van alle tweeën",lb_3:" Drieën",lb_3_txt:" Som van alle drieën",lb_4:" Vieren",lb_4_txt:" Som van alle vieren",lb_5:" Vijven",lb_5_txt:" Som van alle vijven",lb_6:" Zessen",lb_6_txt:" Som van alle zessen",lb_sum1:" Totaal",lb_sum1_txt:" van de bovenste helft",lb_bonus:" Bonus 35 ptn",lb_bonus_txt:" als de totale > 62",lb_sum2:" Totaal",lb_sum2_txt:" Bovenste helft + bonus",lb_3kind:" 3 dezelfde",lb_3kind_txt:" Som van 3 dezelfde",lb_4kind:" 4 dezelfde",lb_4kind_txt:" Som van 4 dezelfde",lb_full_house:" Full House 25 ptn",lb_full_house_txt:" 2 en 3 dezelfde",lb_small_str:" Kleine Straat 30 ptn",lb_small_str_txt:" 4 opeenvolgende nummers",lb_big_str:" Grote Straat 40 ptn",lb_big_str_txt:" 5 opeenvolgende nummers",lb_yahtzee:" Yahtzee 50 ptn",lb_yahtzee_txt:" 5 dezelfde",lb_chance:" Chance",lb_chance_txt:" Vrije keus",lb_sum3:" Totaal",lb_sum3_txt:" van de onderste helft",lb_sum4:" Totaal generaal",lb_sum4_txt:" bovenste + onderste helft"},{lb_desc:"grrd's Dice è ina app 3D per far ir dats e dar Yahtzee per in enfin tschintg giugaders.",lb_swipe:"Trair u scurlattar per far ir il dat!",lb_lock:"Tutgar per bloccar in dat!",lb_web_gl:"Tes navigatur na sustegna betg WebGL!",lb_help:"Tutga sin ina icone per retschaiver agid!",lb_color:"Colur:",lb_instr:"Visualisar ils instrucziuns:",lb_anz:"Dumber da dats:",lb_anz_pl:"Dumber da giugaders:",bt_dice:"Bittar ils dats!",bt_yahtzee:"Yahtzee!",bt_start:"Cumenzar",bt_back:" Enavos",bt_close:" Serrar",lb_dev:" Sviluppà da Gérard Tyedmers cun",lb_and:" e",lb_or:" u",lb_model:" Creà il model 3D cun",lb_puzzle:" Manchenta betg",lb_yes:" Gea",lb_no:" Na",lb_again:" Giugar anc ina giada?",lb_game:" gieu",lb_games:" gieus",lb_player:" Giugader",lb_win:" gudagna!",lb_with:" cun",lb_pts:" puncts",lb_name:" Tes num:",lb_img:" Tes maletg:",lb_played:" Gieus:",lb_won:" Gieus gudignads:",lb_sound:" Far ir tuns",lb_1:" Puncts",lb_1_txt:" Summa da tut ils puncts",lb_2:" Da dus",lb_2_txt:" Dumber da tut ils da dus",lb_3:" Da trais",lb_3_txt:" Summa da tut ils da trais",lb_4:" Da quatter",lb_4_txt:" Summa da tut ils da quatter",lb_5:" Tschintgs",lb_5_txt:" Summa da tut ils tschintgs",lb_6:" Da sis",lb_6_txt:" Summa da tut ils da sis",lb_sum1:" Total",lb_sum1_txt:" Total da la secziun sura",lb_bonus:" Bonus 35 puncts",lb_bonus_txt:" sch'il total > 62",lb_sum2:" Total",lb_sum2_txt:" Secziun sura + il bonus",lb_3kind:" 3 d'ina sort",lb_3kind_txt:" Summa da 3 dats identics",lb_4kind:" 4 d'ina sort",lb_4kind_txt:" Summa da 4 dats identics",lb_full_house:" Full House 25 puncts",lb_full_house_txt:" 2 e 3 dats identics",lb_small_str:" Via pitschna 30 puncts",lb_small_str_txt:" Sequenza da 4 dats",lb_big_str:" Via gronda 40 puncts",lb_big_str_txt:" Sequenza da 5 dats",lb_yahtzee:" Yahtzee 50 puncts",lb_yahtzee_txt:" 5 d'ina sort",lb_chance:" Schanza",lb_chance_txt:" Total dals 5 dats",lb_sum3:" Total",lb_sum3_txt:" Total da la secziun sut",lb_sum4:" Total grond",lb_sum4_txt:" Secziun sura e sut"}],m=[],p=[0,0,0,0,0],h=[0,0,0,0,0],f=[1,0,0,0,0],g=[0,0,0,0,0],y=[0,0,0,0,0],v=[1,0,0,0,0],w=[0,0,0,0,0],M=[0,0,0,0,0],x=[1,0,0,0,0],T=0,k=0,z=0,L=0,S=!0,E=!1,H=2,I=1,P=!1,D=!1,C=1,Y=1,A=0,G=!1,B=!1,W=!1,N=!1,j=[0,0,0,0,0,0],R=!1,F=[0,0,0,0,0],q=[!1,!1,!1,!1,!1],V=[],J=[];for(d=0;d<5;d+=1)J[d]=[];var O=[0,0,0,0,0],X=document.documentElement.clientHeight,K=document.documentElement.clientWidth,Z=K/2,U=X/2,Q=new Shake({threshold:8,timeout:1e3}),$=function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}(),ee=function(e){return document.getElementById(e)},te=ee("lb_tot_val"),le=ee("lb_try"),ne=ee("bt_list"),ae=ee("img_lock0"),se=ee("img_lock1"),oe=ee("img_lock2"),ie=ee("img_lock3"),re=ee("img_lock4"),_e=ee("iGame"),be=ee("iTitle"),de=ee("iPopupInfo"),ue=ee("iPopupSettings"),ce=ee("popup_yahtzee"),me=ee("iPopupHelp"),pe=ee("lb_helptit"),he=ee("lb_help"),fe=ee("grp_anz");function ge(e){e.classList.remove("popup-init"),e.classList.remove("popup-hide"),e.classList.add("popup-show"),e===ce&&(Q.stop(),E=!1,!N&&ee("b_instr").checked&&setTimeout(function(){pe.innerHTML="",he.innerHTML=c[u].lb_help,ge(me),N=!0},700))}function ye(e){e.classList.remove("popup-show"),e.classList.add("popup-hide"),setTimeout(function(){e.scrollTop=0},1050)}function ve(){var e;if(!S||!R){for(ye(me),te.style.display="none",le.style.display="none",e=0;e<I;e+=1)q[e]||(p[e]=Math.round((p[e]+30*Math.random()-15)/Math.PI*2)*Math.PI/2,g[e]=Math.round((g[e]+30*Math.random()-15)/Math.PI*2)*Math.PI/2,w[e]=Math.round((w[e]+30*Math.random()-15)/Math.PI*2)*Math.PI/2);R=!0}}function we(e){var t;if(T=e.clientX-Z,z=e.clientY-U,!S||!R)for(t=0;t<I;t+=1)q[t]||(p[t]=h[t]+.08*(T-k)*f[t],g[t]=y[t]+.08*(z-L)*v[t],w[t]=M[t]+(.08*(T-k)*x[t]+.08*(z-L)*x[t])/2)}function Me(){var e,t,l,n=0;for(e=0;e<V.length;e+=1)V[e]=0;for(e=0;e<j.length;e+=1){if(V[e]=j[e]*(e+1),j[e]>=3&&(V[7]=3*(e+1)),j[e]>=4&&(V[8]=4*(e+1)),j[e]>=5&&(V[12]=50),j[e]>=5&&(V[9]=25),3===j[e])for(t=0;t<j.length;t+=1)2===j[t]&&(V[9]=25);j[e]>=1?n+=1:n=0,n>=4&&(V[10]=30),n>=5&&(V[11]=40)}for(V[13]=o,e=0;e<V.length;e+=1)6===e&&(e=7),null===J[C-1][e]&&(l=ee("bt_"+e+"p"+C),ee("lb_"+e+"p"+C).style.display="none",l.style.display="block",l.firstChild.innerHTML=V[e]);ee("iYahtzeeClose").parentElement.style.display="none",ge(ce)}function xe(){var e;for(e=0;e<I;e+=1)q[e]||(p[e]=h[e],g[e]=y[e],w[e]=M[e]);if(1!==Y&&!R)for(X>K?(T<0&&z>X/15&&(q[4]=!q[4],re.style.display=q[4]?"block":"none"),T>0&&z>X/15&&(q[1]=!q[1],se.style.display=q[1]?"block":"none"),T>X/-15&&T<X/15&&z>X/-15&&z<X/15&&(q[2]=!q[2],oe.style.display=q[2]?"block":"none"),T<0&&z<X/-15&&(q[3]=!q[3],ie.style.display=q[3]?"block":"none"),T>0&&z<X/-15&&(q[0]=!q[0],ae.style.display=q[0]?"block":"none")):(z<0&&T>X/15&&(q[0]=!q[0],ae.style.display=q[0]?"block":"none"),z>0&&T>X/15&&(q[1]=!q[1],se.style.display=q[1]?"block":"none"),z>X/-15&&z<X/15&&T>X/-15&&T<X/15&&(q[2]=!q[2],oe.style.display=q[2]?"block":"none"),z<0&&T<X/-15&&(q[3]=!q[3],ie.style.display=q[3]?"block":"none"),z>0&&T<X/-15&&(q[4]=!q[4],re.style.display=q[4]?"block":"none")),e=0;e<I&&q[e];e+=1)e===I-1&&Me()}function Te(){var e;for(e=0;e<5;e+=1)q[e]=!1,ee("img_lock"+e).style.display="none"}function ke(t){var l;if(T=t.clientX-Z,z=t.clientY-U,e.removeEventListener("mousemove",we,!1),e.removeEventListener("mouseup",ze,!1),e.removeEventListener("mouseout",Le,!1),!S||!R){for(Math.abs(T-k)<5&&Math.abs(z-L)<5&&S&&(D=!0,new Date-a<300&&xe()),l=0;l<I;l+=1)q[l]||(p[l]=Math.round(p[l]/Math.PI*2)*Math.PI/2,g[l]=Math.round(g[l]/Math.PI*2)*Math.PI/2,w[l]=Math.round(w[l]/Math.PI*2)*Math.PI/2);R=!0}}function ze(e){ke(e)}function Le(e){ke(e)}function Se(t){var l;for(te.style.display="none",le.style.display="none",t.preventDefault(),e.addEventListener("mousemove",we,!1),e.addEventListener("mouseup",ze,!1),e.addEventListener("mouseout",Le,!1),k=t.clientX-Z,L=t.clientY-U,a=new Date,l=0;l<I;l+=1)h[l]=p[l],y[l]=g[l],M[l]=w[l],l>0&&(f[l]=Math.random()+.5,v[l]=Math.random()+.5,x[l]=Math.random()+.5)}function Ee(e){var t;if(e.preventDefault(),!S||!R){for(!1===P&&S&&(D=!0,new Date-a<500&&(T=k,z=L,xe())),t=0;t<I;t+=1)q[t]||(p[t]=Math.round(p[t]/Math.PI*2)*Math.PI/2,g[t]=Math.round(g[t]/Math.PI*2)*Math.PI/2,w[t]=Math.round(w[t]/Math.PI*2)*Math.PI/2);R=!0}}function He(e){var t;if(P=!0,1===e.touches.length){if(e.preventDefault(),T=e.touches[0].pageX-Z,z=e.touches[0].pageY-U,S&&R)return;for(t=0;t<I;t+=1)q[t]||(p[t]=h[t]+.06*(T-k)*f[t],g[t]=y[t]+.06*(z-L)*v[t],w[t]=M[t]+(.06*(T-k)*x[t]+.02*(z-L)*x[t])/2)}}function Ie(e){var t;if(a=new Date,P=!1,1===e.touches.length)for(e.preventDefault(),te.style.display="none",le.style.display="none",k=e.touches[0].pageX-Z,L=e.touches[0].pageY-U,a=new Date,t=0;t<I;t+=1)h[t]=p[t],y[t]=g[t],M[t]=w[t],t>0&&(f[t]=Math.random()+.5,v[t]=Math.random()+.5,x[t]=Math.random()+.5)}function Pe(){E&&(window.requestAnimationFrame(Pe),function(){var e,a;for(s=0,e=0;e<I;e+=1)m[e].rotation.y+=.05*(p[e]-m[e].rotation.y),m[e].rotation.x+=.05*(g[e]-m[e].rotation.x),m[e].rotation.z+=.05*(w[e]-m[e].rotation.z),s=Math.max(s,Math.abs(m[e].rotation.y-p[e])+Math.abs(m[e].rotation.x-g[e])+Math.abs(m[e].rotation.z-w[e]));if(s<.01&&R){for(R=!1,a=0;a<2;a+=1)for(o=0,j=[0,0,0,0,0,0],e=0;e<I;e+=1)r=(Math.round(g[e]%(2*Math.PI)/Math.PI*2)+4)%4,_=(Math.round(p[e]%(2*Math.PI)/Math.PI*2)+4)%4,b=(Math.round(w[e]%(2*Math.PI)/Math.PI*2)+4)%4,F[e]=0,0===r&&0===_||2===r&&2===_?F[e]=1:3===r&&1===b||1===r&&3===b||0===r&&1===_&&0===b||2===r&&3===_&&0===b||2===r&&1===_&&2===b||0===r&&3===_&&2===b?F[e]=2:3===r&&0===b||1===r&&2===b||0===r&&1===_&&3===b||0===r&&3===_&&1===b||2===r&&1===_&&1===b||2===r&&3===_&&3===b?F[e]=3:1===r&&0===b||3===r&&2===b||0===r&&3===_&&3===b||2===r&&1===_&&3===b||0===r&&1===_&&1===b||2===r&&3===_&&1===b?F[e]=4:3===r&&3===b||1===r&&1===b||0===r&&3===_&&0===b||2===r&&3===_&&2===b||0===r&&1===_&&2===b||2===r&&1===_&&0===b?F[e]=5:(0===r&&2===_||2===r&&0===_)&&(F[e]=6),o+=F[e],j[F[e]-1]=j[F[e]-1]+1;S?(W||1!==Y||D||!ee("b_instr").checked||(pe.innerHTML="",he.innerHTML=c[u].lb_lock,ge(me),W=!0),D?D=!1:Y+=1,le.innerHTML=Y+" / 3",le.style.display="block",te.innerHTML=c[u].lb_player+" "+C,Y>3&&Me()):te.innerHTML=o,te.style.display="block"}n.render(l,t)}())}function De(){if(X=document.documentElement.clientHeight,K=document.documentElement.clientWidth,Z=K/2,U=X/2,X>K){if(void 0!==m[0]&&null!==m[0])switch(I){case 1:m[0].position.set(0,0,0),t.position.set(0,0,2.2);break;case 2:m[0].position.set(0,.45,0),m[1].position.set(0,-.45,0),t.position.set(0,0,3);break;case 3:m[0].position.set(0,.9,0),m[1].position.set(0,0,0),m[2].position.set(0,-.9,0),t.position.set(0,0,4.2);break;case 4:m[0].position.set(.45,.45,0),m[1].position.set(-.45,.45,0),m[2].position.set(.45,-.45,0),m[3].position.set(-.45,-.45,0),t.position.set(0,0,4.2);break;case 5:m[0].position.set(.45,.9,0),m[1].position.set(.45,-.9,0),m[2].position.set(0,0,0),m[3].position.set(-.45,.9,0),m[4].position.set(-.45,-.9,0),t.position.set(0,0,5.6)}}else if(void 0!==m[0]&&null!==m[0])switch(I){case 1:m[0].position.set(0,0,0),t.position.set(0,0,1.8);break;case 2:m[0].position.set(.45,0,0),m[1].position.set(-.45,0,0),t.position.set(0,0,2.2);break;case 3:m[0].position.set(.9,0,0),m[1].position.set(0,0,0),m[2].position.set(-.9,0,0),t.position.set(0,0,3);break;case 4:m[0].position.set(.45,.45,0),m[1].position.set(-.45,.45,0),m[2].position.set(.45,-.45,0),m[3].position.set(-.45,-.45,0),t.position.set(0,0,3);break;case 5:m[0].position.set(.9,.45,0),m[1].position.set(.9,-.45,0),m[2].position.set(0,0,0),m[3].position.set(-.9,.45,0),m[4].position.set(-.9,-.45,0),t.position.set(0,0,4)}t.aspect=K/X,t.updateProjectionMatrix(),n.setSize(K,X)}function Ce(){var e;for(Q.stop(),E=!1,te.style.display="none",le.style.display="none",ee("bt_dice_yahtzee").classList.remove("swipe-out-bottom"),fe.classList.remove("swipe-in-bottom"),Te(),be.classList.remove("swipe-out"),_e.classList.remove("swipe-in"),be.classList.add("swipe-out-right"),_e.classList.add("swipe-in-left"),e=0;e<I;e+=1)m[e].rotation.y=p[e],m[e].rotation.x=g[e],m[e].rotation.z=w[e];R=!1}function Ye(e){m[e]=m[0].clone(),m[e].rotation.y=-Math.PI/2,p[e]=Math.round((p[e]+30*Math.random()-15)/Math.PI*2)*Math.PI/2,g[e]=Math.round((g[e]+30*Math.random()-15)/Math.PI*2)*Math.PI/2,w[e]=Math.round((w[e]+30*Math.random()-15)/Math.PI*2)*Math.PI/2,m[e].rotation.y=p[e],m[e].rotation.x=g[e],m[e].rotation.z=w[e]}function Ae(e){var t;if(e>I)for(t=I;t<e;t+=1)void 0!==m[t]&&null!==m[t]||Ye(t),l.add(m[t]);if(I>e)for(t=e;t<I;t+=1)l.remove(m[t]);I=e,De()}function Ge(){ye(ce),Q.start(),E=!0,Pe(),G&&(G=!1,Ce())}function Be(){$&&(localStorage.setItem("s_color",A),localStorage.setItem("s_instr",ee("b_instr").checked)),De(),ye(ue)}function We(){var e,t=event.target.id.substring(3,event.target.id.indexOf("p")),l=!1;for(J[C-1][t]=V[t],ee("lb_"+t+"p"+C).innerHTML=V[t],o=0,e=0;e<V.length;e+=1)6===e&&(e=7),ee("bt_"+e+"p"+C).style.display="none",ee("lb_"+e+"p"+C).style.display="inline",o+=J[C-1][e],5===e&&(ee("lb_sum1p"+C).innerHTML=o,o>=63&&(ee("lb_bonus_p"+C).innerHTML="35",o+=35),i=o,ee("lb_sum2p"+C).innerHTML=o);for(ee("lb_sum3p"+C).innerHTML=o-i,ee("lb_sum4p"+C).innerHTML=o,O[C-1]=o,e=0;e<V.length;e+=1)null===J[C-1][e]&&6!==e&&(l=!0);l||C!==H?((C+=1)>H&&(C=1),Y=1,le.innerHTML=Y+" / 3",te.innerHTML=c[u].lb_player+" "+C,Te(),Ge()):(e=O.indexOf(Math.max.apply(Math,O)),pe.innerHTML=c[u].lb_player+" "+(e+1)+" "+c[u].lb_win,he.innerHTML=c[u].lb_with+" "+O[e]+" "+c[u].lb_pts,ge(me),G=!0)}function Ne(){var e=[[[.75,0,.07],[1,1,1]],[[.09,.2,.55],[1,1,1]],[[.9,.5,.005],[1,1,1]],[[.017,.292,.243],[1,1,1]],[[.65,.65,.65],[.06,.06,.06]]];E=!0,S?(H=parseInt(event.target.getAttribute("data-num"),10),Ae(5),Be(),function(){var e,t,l,n;for(e=0;e<14;e+=1)for(V[e]=0,t=0;t<5;t+=1)6===e&&(e=7),J[t][e]=null,ee("bt_"+e+"p"+(t+1)).style.display="none",(l=ee("lb_"+e+"p"+(t+1))).style.display="inline",l.innerHTML="";for(t=0;t<5;t+=1)(n=ee("img_p"+(t+1))).style.width="100%",t<H?(n.style.backgroundColor="#CC002F",ee("lb_sum1p"+(t+1)).innerHTML="0",ee("lb_sum2p"+(t+1)).innerHTML="0",ee("lb_sum3p"+(t+1)).innerHTML="0",ee("lb_sum4p"+(t+1)).innerHTML="0"):(n.style.backgroundColor="#AAAAAA",ee("lb_sum1p"+(t+1)).innerHTML="",ee("lb_sum2p"+(t+1)).innerHTML="",ee("lb_sum3p"+(t+1)).innerHTML="",ee("lb_sum4p"+(t+1)).innerHTML=""),ee("lb_bonus_p"+(t+1)).innerHTML="",O[t]=0;C=1,Y=1,Te(),te.innerHTML=c[u].lb_player+" "+C,le.innerHTML=Y+" / 3",te.style.display="block",le.style.display="block"}(),ne.style.display="block"):(Ae(parseInt(event.target.getAttribute("data-num"),10)),te.style.display="none",le.style.display="none",ne.style.display="none",Te()),Q.start(),Pe(),m[0].children[0].material[0].color.setRGB(e[parseInt(A)][0][0],e[parseInt(A)][0][1],e[parseInt(A)][0][2]),m[0].children[0].material[1].color.setRGB(e[parseInt(A)][1][0],e[parseInt(A)][1][1],e[parseInt(A)][1][2]),be.classList.remove("swipe-out-right"),_e.classList.remove("swipe-in-left"),be.classList.add("swipe-out"),_e.classList.add("swipe-in"),!B&&ee("b_instr").checked&&setTimeout(function(){pe.innerHTML="",he.innerHTML=c[u].lb_swipe,ge(me),B=!0},700)}function je(e,t,n,a,s){var o=new THREE.DirectionalLight(a,s);o.position.set(e,t,n),l.add(o),o.castShadow=!0;o.shadow.camera.left=-1,o.shadow.camera.right=1,o.shadow.camera.top=1,o.shadow.camera.bottom=-1,o.shadow.camera.near=1,o.shadow.camera.far=4,o.shadow.mapSize.width=1024,o.shadow.mapSize.height=1024,o.shadow.bias=-.005}!function(){var a,s,o,i,r,_;const b=(function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href);return null!==t&&t[1]}("lang")||navigator.language||navigator.browserLanguage||(navigator.languages||["en"])[0]).substring(0,2).toLowerCase();"de"===b?u=1:"fr"===b?u=2:"nl"===b?u=3:"rm"===b&&(u=4),u&&document.documentElement.setAttribute("lang",b),ee("bt_dice").getElementsByTagName("div")[0].innerHTML=c[u].bt_dice.replace(/\s/g," "),ee("bt_yahtzee").getElementsByTagName("div")[0].innerHTML=c[u].bt_yahtzee,ee("lb_dev").innerHTML=c[u].lb_dev,ee("lb_and").innerHTML=c[u].lb_and,ee("lb_model").innerHTML=c[u].lb_model,ee("lb_puzzle").innerHTML=c[u].lb_puzzle,ee("lb_and2").innerHTML=c[u].lb_and,ee("lb_or").innerHTML=c[u].lb_or,ee("lb_color").innerHTML=c[u].lb_color,ee("lb_instr").innerHTML=c[u].lb_instr,document.querySelector("meta[name='description']").setAttribute("content",c[u].lb_desc),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("sw.js").then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)},function(e){console.log("ServiceWorker registration failed: ",e)})}),Array.from(document.getElementsByClassName("todo")).forEach(function(e,t){for((s=t)>5&&(s+=1),a=1;a<6;a+=1)_=document.createElement("td"),(o=document.createElement("div")).id="bt_"+s+"p"+a,o.classList.add("mini-button","xs"),(i=document.createElement("div")).className="bttxt",o.appendChild(i),_.appendChild(o),(r=document.createElement("div")).id="lb_"+s+"p"+a,r.className="d_block score",_.appendChild(r),e.appendChild(_)}),ee("iInfo").addEventListener("click",function(){ge(de)}),ee("iInfoClose").addEventListener("click",function(){ye(de)}),ee("iSettings").addEventListener("click",function(){ge(ue)}),ee("iSettingsClose").addEventListener("click",function(){Be()}),Array.from(document.getElementsByClassName("list-button-50")).forEach(function(e){e.addEventListener("click",function(){!function(e){S="true"===e.target.getAttribute("data-yahtzee"),ee("lb_anz").innerHTML=S?c[u].lb_anz_pl:c[u].lb_anz,ee("bt_dice_yahtzee").classList.add("swipe-out-bottom"),setTimeout(function(){fe.classList.remove("swipe-out-bottom"),fe.classList.add("swipe-in-bottom")},500)}(event)})}),Array.from(document.getElementsByClassName("list-button-20")).forEach(function(e){e.addEventListener("click",function(){Ne(event)})}),Array.from(document.getElementsByClassName("list-button-col")).forEach(function(e){e.addEventListener("click",function(){event,A=parseInt(event.target.getAttribute("data-num"),10),Array.from(document.getElementsByClassName("list-button-col")).forEach(function(e){e.classList.remove("selected")}),event.target.classList.add("selected")})}),Array.from(document.getElementsByClassName("help")).forEach(function(e){e.addEventListener("click",function(){pe.innerHTML=c[u][event.target.id],he.innerHTML=c[u][event.target.id+"_txt"],ge(me)})});for(a=0;a<14;a+=1)for(6===a&&(a=7),s=1;s<=5;s+=1)ee("bt_"+a+"p"+s).addEventListener("click",function(){We()});ee("iClose").addEventListener("click",Ce),ne.addEventListener("click",function(){ee("iYahtzeeClose").parentElement.style.display="block",ge(ce)}),ee("iYahtzeeClose").addEventListener("click",Ge),ee("iCloseHelp").addEventListener("click",function(){ye(me)}),me.addEventListener("click",function(){ye(me)}),window.addEventListener("shake",ve,!1),$?(null===localStorage.getItem("s_color")?ee("bt_col1").click():ee("bt_col"+(parseInt(localStorage.getItem("s_color"))+1)).click(),null===localStorage.getItem("s_instr")?ee("b_instr").checked=!0:ee("b_instr").checked="true"===localStorage.getItem("s_instr")):ee("b_instr").checked=!0,te.style.display="none",le.style.display="none",e=document.createElement("div"),_e.appendChild(e),(t=new THREE.PerspectiveCamera(35,K/X,1,15)).position.set(0,0,2.2),l=new THREE.Scene;var d=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(Math.round(t,2)+"% downloaded")}},p=function(e){},h=new THREE.MTLLoader;h.setPath("./models/"),h.load("dice.mtl",function(e){e.preload();var t=new THREE.OBJLoader;t.setMaterials(e),t.setPath("./models/"),t.load("dice.obj",function(e){l.add(e),m[0]=e},d,p)}),l.add(new THREE.AmbientLight(7829367)),je(.5,1,-1,16777215,.7),je(-1,1,1,16777215,1),(n=new THREE.WebGLRenderer({antialias:!0,alpha:!0})).setClearColor(0,0),n.setPixelRatio(window.devicePixelRatio),n.setSize(K,X),n.gammaInput=!0,n.gammaOutput=!0,e.appendChild(n.domElement),e.addEventListener("mousedown",Se,!1),e.addEventListener("touchstart",Ie,!1),e.addEventListener("touchmove",He,!1),e.addEventListener("touchend",Ee,!1),window.addEventListener("resize",De,!1)}()}();